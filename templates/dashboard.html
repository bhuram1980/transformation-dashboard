<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transformation Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="icon" type="image/png" href="/static/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="page-surface">
        <div class="dashboard-container">
            <!-- Section 1: Today Hero -->
            <section class="layout-section today-hero" id="todayHero">
                <div class="section-heading">
                    <h1 class="dashboard-title">Mindset: If I'm Not Shredded I'm Dead (No Third Option)</h1>
                </div>
                <div class="grid-12 hero-grid">
                    <div class="card-surface hero-card hero-streak col-span-12">
                        <div class="hero-card-label">Current streak</div>
                        <div class="streak-container">
                            <div class="streak-number" id="streakCount">0</div>
                            <div class="streak-label">Day Streak</div>
                        </div>
                        <div class="hero-card-meta" id="streakMeta">Logs arrive nightly</div>
                    </div>
                    <div class="card-surface weight-highlight-card col-span-12">
                        <div class="weight-headline">
                            <span class="weight-headline-label">Fasted Weight Today:</span>
                            <span class="weight-highlight-value" id="weightValue">-- kg</span>
                        </div>
                        <div class="weight-highlight-delta" id="weightDelta">
                            <span class="delta-arrow" id="weightDeltaArrow">‚Äî</span>
                            <span class="delta-text" id="weightDeltaText">Need Day 1 + latest weight to compare</span>
                        </div>
                        <p class="weight-highlight-meta" id="weightMeta">Upload today's file to see changes</p>
                    </div>
                    <div class="card-surface fish-total-card col-span-12">
                        <div class="fish-total-header">
                            <span class="fish-total-label">Total fish demolished</span>
                            <span class="fish-total-emoji">üêü</span>
                        </div>
                        <div class="fish-total-value-row">
                            <span class="fish-total-value" id="fishTotal">0.00 kg</span>
                        </div>
                        <p class="fish-total-meta" id="fishLifetimeMeta">Lifetime edible weight</p>
                        <p class="fish-total-weekly" id="fishWeeklyMeta">0.0 / 7.0 kg this week</p>
                    </div>
                    <div class="card-surface hero-card today-score-card col-span-12 col-lg-6" id="todayScoreCard">
                        <div class="hero-card-label">Today score</div>
                        <div class="score-card-body">
                            <div class="score-ring">
                                <svg viewBox="0 0 120 120">
                                    <circle class="score-ring-track" cx="60" cy="60" r="52"></circle>
                                    <circle class="score-ring-progress" id="scoreRingProgress" cx="60" cy="60" r="52"></circle>
                                </svg>
                                <div class="score-ring-center" id="scoreRingValue">0</div>
                            </div>
                            <div class="score-card-text">
                                <div class="hero-score-value" id="todayScoreValue">-- / 5</div>
                                <div class="hero-card-meta" id="todayScoreMeta">Score updates with new log</div>
                            </div>
                        </div>
                        <ul class="score-criteria" id="scoreCriteriaList">
                            <li>Protein target</li>
                            <li>Seafood goal</li>
                            <li>Supplements</li>
                            <li>Training logged</li>
                            <li>Feeling 8+</li>
                        </ul>
                    </div>
                </div>
                <div class="hero-badges" id="heroBadges"></div>
            </section>

            <!-- Section 2: Long-term transformation -->
            <section class="layout-section long-term-section" id="longTermSection">
                <div class="section-heading">
                    <p class="section-eyebrow">Long-term transformation</p>
                    <h2 class="section-title">Mission progress</h2>
                </div>
                <div class="grid-12 long-term-grid">
                    <div class="goal-baseline-section card-surface col-span-12 col-lg-7">
                        <h3 class="section-subtitle">Main Goal</h3>
                        <div class="goal-description" id="goalDescription">Loading...</div>
                        <div class="baseline-metrics">
                            <h4 class="baseline-title">Baseline vs Current <span class="baseline-date" id="baselineDate">(Nov 21, 2025)</span></h4>
                            <div class="baseline-compare-grid">
                                <div class="baseline-compare-card">
                                    <div class="compare-label">Weight</div>
                                    <div class="compare-values">
                                        <div>
                                            <span class="compare-caption">Baseline</span>
                                            <span class="compare-value" id="weightBaselineValue">-</span>
                                        </div>
                                        <span class="compare-arrow">‚Üí</span>
                                        <div>
                                            <span class="compare-caption">Current</span>
                                            <span class="compare-value" id="weightCurrentValue">-</span>
                                        </div>
                                    </div>
                                    <div class="compare-change" id="weightCompareDelta">Awaiting data</div>
                                </div>
                                <div class="baseline-compare-card">
                                    <div class="compare-label">Body Fat</div>
                                    <div class="compare-values">
                                        <div>
                                            <span class="compare-caption">Baseline</span>
                                            <span class="compare-value" id="bodyFatBaselineValue">-</span>
                                        </div>
                                        <span class="compare-arrow">‚Üí</span>
                                        <div>
                                            <span class="compare-caption">Current</span>
                                            <span class="compare-value" id="bodyFatCurrentValue">-</span>
                                        </div>
                                    </div>
                                    <div class="compare-change" id="bodyFatCompareDelta">Need new DEXA</div>
                                </div>
                                <div class="baseline-compare-card">
                                    <div class="compare-label">Android Fat</div>
                                    <div class="compare-values">
                                        <div>
                                            <span class="compare-caption">Baseline</span>
                                            <span class="compare-value" id="androidBaselineValue">-</span>
                                        </div>
                                        <span class="compare-arrow">‚Üí</span>
                                        <div>
                                            <span class="compare-caption">Current</span>
                                            <span class="compare-value" id="androidCurrentValue">-</span>
                                        </div>
                                    </div>
                                    <div class="compare-change" id="androidCompareDelta">Need new DEXA</div>
                                </div>
                                <div class="baseline-compare-card">
                                    <div class="compare-label">ALT</div>
                                    <div class="compare-values">
                                        <div>
                                            <span class="compare-caption">Baseline</span>
                                            <span class="compare-value" id="altBaselineValue">-</span>
                                        </div>
                                        <span class="compare-arrow">‚Üí</span>
                                        <div>
                                            <span class="compare-caption">Current</span>
                                            <span class="compare-value" id="altCurrentValue">-</span>
                                        </div>
                                    </div>
                                    <div class="compare-change" id="altCompareDelta">Need new labs</div>
                                </div>
                                <div class="baseline-compare-card">
                                    <div class="compare-label">Glucose</div>
                                    <div class="compare-values">
                                        <div>
                                            <span class="compare-caption">Baseline</span>
                                            <span class="compare-value" id="glucoseBaselineValue">-</span>
                                        </div>
                                        <span class="compare-arrow">‚Üí</span>
                                        <div>
                                            <span class="compare-caption">Current</span>
                                            <span class="compare-value" id="glucoseCurrentValue">-</span>
                                        </div>
                                    </div>
                                    <div class="compare-change" id="glucoseCompareDelta">Need new labs</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="goals-section card-surface col-span-12 col-lg-5">
                        <h3 class="section-subtitle">Targets</h3>
                        <div class="metric-progress-grid">
                            <div class="metric-card has-trend" id="metricWeightCard">
                                <div class="metric-card-heading">
                                    <div>
                                        <p class="metric-name">Weight</p>
                                        <p class="metric-current" id="metricWeightCurrent">--</p>
                                    </div>
                                    <p class="metric-target-label" id="metricWeightTarget">Target 82-85 kg</p>
                                </div>
                                <p class="metric-change-line" id="metricWeightChange">Need more data</p>
                                <div class="metric-progress-bar">
                                    <div class="metric-progress-fill" id="metricWeightProgress"></div>
                                </div>
                            </div>
                            <div class="metric-card" id="metricBodyFatCard">
                                <div class="metric-card-heading">
                                    <div>
                                        <p class="metric-name">Body Fat</p>
                                        <p class="metric-current" id="metricBodyFatCurrent">--</p>
                                    </div>
                                    <p class="metric-target-label" id="metricBodyFatTarget">Target ‚â§13%</p>
                                </div>
                                <p class="metric-change-line" id="metricBodyFatChange">Awaiting next DEXA</p>
                                <div class="metric-progress-bar">
                                    <div class="metric-progress-fill" id="metricBodyFatProgress"></div>
                                </div>
                            </div>
                            <div class="metric-card" id="metricAndroidCard">
                                <div class="metric-card-heading">
                                    <div>
                                        <p class="metric-name">Android Fat</p>
                                        <p class="metric-current" id="metricAndroidCurrent">--</p>
                                    </div>
                                    <p class="metric-target-label" id="metricAndroidTarget">Target ‚â§15%</p>
                                </div>
                                <p class="metric-change-line" id="metricAndroidChange">Awaiting Android update</p>
                                <div class="metric-progress-bar">
                                    <div class="metric-progress-fill" id="metricAndroidProgress"></div>
                                </div>
                            </div>
                            <div class="metric-card" id="metricAltCard">
                                <div class="metric-card-heading">
                                    <div>
                                        <p class="metric-name">ALT</p>
                                        <p class="metric-current" id="metricAltCurrent">--</p>
                                    </div>
                                    <p class="metric-target-label" id="metricAltTarget">Target &lt;80</p>
                                </div>
                                    <p class="metric-change-line" id="metricAltChange">Need new labs</p>
                                <div class="metric-progress-bar">
                                    <div class="metric-progress-fill" id="metricAltProgress"></div>
                                </div>
                            </div>
                            <div class="metric-card" id="metricGlucoseCard">
                                <div class="metric-card-heading">
                                    <div>
                                        <p class="metric-name">Fasting Glucose</p>
                                        <p class="metric-current" id="metricGlucoseCurrent">--</p>
                                    </div>
                                    <p class="metric-target-label" id="metricGlucoseTarget">Target &lt;95</p>
                                </div>
                                <p class="metric-change-line" id="metricGlucoseChange">Need new labs</p>
                                <div class="metric-progress-bar">
                                    <div class="metric-progress-fill" id="metricGlucoseProgress"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 3: Today Log -->
            <section class="layout-section todays-log-section" id="todaysLogSection">
                <div class="section-heading">
                    <p class="section-eyebrow">Today‚Äôs log</p>
                    <h2 class="section-title">What I Ate Today</h2>
                </div>
                <div class="meals-section card-surface">
                    <div class="day-selector">
                        <label class="day-select-label">Select Day:</label>
                        <div class="day-pill-wrapper">
                            <button class="day-pill-nav" id="prevDayBtn" onclick="navigateDay(-1)" aria-label="Previous day">‚Üê</button>
                            <div class="day-pill-scroll">
                                <div class="day-pill-track" id="dayPillContainer"></div>
                            </div>
                            <button class="day-pill-nav" id="nextDayBtn" onclick="navigateDay(1)" aria-label="Next day">‚Üí</button>
                        </div>
                        <select id="daySelect" class="day-select-dropdown" onchange="loadDayMeals()" aria-label="Select day backup">
                            <option value="">Loading...</option>
                        </select>
                    </div>
                    <div id="dayMeals" class="meals-content">
                        <div class="meals-placeholder-card">
                            <p>Select a day to view meals, macros, supplements, and notes.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="/static/js/dashboard.js"></script>
</body>
</html>
